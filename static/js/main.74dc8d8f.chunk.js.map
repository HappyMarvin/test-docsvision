{"version":3,"sources":["utils/contains.js","utils/api.js","contexts/PlacesObjectContext.js","components/Place.js","components/Places.js","components/Thing.js","components/Inventory.js","components/Header.js","components/App.js","reportWebVitals.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","api","getPlaces","firestore","collection","get","then","response","docs","map","x","id","data","parts","part","getInventory","placeId","place","addThing","name","count","filestore","doc","set","delThing","delete","updateThing","update","this","config","PlacesObjectContext","createContext","Place","child","onPlaceClick","placesObject","useContext","undefined","parent","className","onClick","bind","isEmpty","item","Places","places","Thing","thing","isRoom","getData","useState","nameInput","setNameInput","countInput","setCountInput","saveIsActive","setSaveIsActive","onSubmit","e","preventDefault","catch","err","console","error","message","type","value","onChange","target","min","Inventory","inventory","activePlace","children","length","addIsActive","setAddIsActive","includes","Header","App","setPlaces","setInventory","setPlacesObject","setActivePlace","getPlacesObject","forEach","Object","assign","addChildren","some","push","useEffect","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.74dc8d8f.chunk.js","sourcesContent":["export const firebaseConfig = {\r\n\r\n  apiKey: \"AIzaSyD6DnGbVfdJlDJ_pEOUfDfTDJrA8j3lIs8\",\r\n\r\n  authDomain: \"dv-inventory.firebaseapp.com\",\r\n\r\n  databaseURL: \"https://dv-inventory.firebaseio.com\",\r\n\r\n  projectId: \"dv-inventory\",\r\n\r\n  storageBucket: \"dv-inventory.appspot.com\",\r\n\r\n  messagingSenderId: \"130062240176\",\r\n\r\n  appId: \"1:130062240176:web:ecbca5d29b37d25c6cee75\"\r\n\r\n};","import { firebaseConfig } from \"./contains\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nclass Api {\r\n  constructor() {\r\n    this.config = firebaseConfig;\r\n  }\r\n\r\n  getPlaces = () => {\r\n    return firebase.firestore().collection(\"places\").get().then(response => {\r\n      return response.docs.map(x => ({\r\n        id: x.id,\r\n        data: x.data(),\r\n        parts: x.data().parts && x.data().parts.map(part => part.id)\r\n      }));\r\n    });\r\n  }\r\n\r\n  getInventory = () => {\r\n    return firebase.firestore().collection(\"inventory\").get().then(response => {\r\n      return response.docs.map(x => ({\r\n        id: x.id,\r\n        data: x.data(),\r\n        placeId: x.data().place.id\r\n      }));\r\n    })\r\n  }\r\n\r\n  addThing = (placeId, name, count = 1) => {\r\n    let filestore = firebase.firestore();\r\n    return filestore.collection(\"inventory\").doc().set({\r\n      name,\r\n      count,\r\n      place: filestore.collection(\"places\").doc(placeId)\r\n    })\r\n  }\r\n\r\n  delThing = (id) => {\r\n    return firebase.firestore().collection(\"inventory\").doc(id).delete()\r\n  }\r\n\r\n  updateThing = (id, name, count) => {\r\n    return firebase.firestore().collection(\"inventory\").doc(id).update({\r\n      count,\r\n      name\r\n    })\r\n  }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport default api;","import { createContext} from \"react\";\r\nexport const PlacesObjectContext = createContext()","import { useContext } from \"react\";\r\nimport { PlacesObjectContext } from \"../contexts/PlacesObjectContext\";\r\nimport './Place.css'\r\n\r\nfunction Place ({ place, child, onPlaceClick }) {\r\n  const placesObject = useContext(PlacesObjectContext)\r\n  if (place === undefined || placesObject[place.id] === undefined) return ''\r\n  if (!child && placesObject[place.id].parent !== undefined) return ''\r\n  return (\r\n          <li key={place.id} className={`place`}>\r\n            <p onClick={onPlaceClick.bind(null, place.id)} className={`place__name${placesObject[place.id].isEmpty ? ' place__name_empty' : ''}`}>{place.data.name}</p>\r\n            {(place.parts) ? <ul className={`place__list`}>\r\n              {place.parts.map(item =>\r\n                <Place\r\n                  key={placesObject[item].id}\r\n                  place={placesObject[item]}\r\n                  child={true}\r\n                  onPlaceClick={onPlaceClick}\r\n                />\r\n            )}</ul> : ''}\r\n          </li>\r\n  )\r\n}\r\n\r\nexport default Place","import Place from \"./Place\";\r\n\r\nimport './Places.css';\r\n\r\nfunction Places ({ places, onPlaceClick }) {\r\n  return (\r\n    <ul className={`places`}>\r\n      {places.map(place =>\r\n        <Place\r\n          key={place.id}\r\n          place={place}\r\n          child={false}\r\n          onPlaceClick={onPlaceClick}\r\n        />)}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Places","import { useState } from \"react\";\r\nimport api from \"../utils/api\";\r\nimport \"./Thing.css\"\r\n\r\nfunction Thing ({ thing, isRoom, getData }) {\r\n  const [nameInput, setNameInput] = useState(thing.data.name);\r\n  const [countInput, setCountInput] = useState(thing.data.count);\r\n  const [saveIsActive, setSaveIsActive] = useState(false);\r\n\r\n  function nameOnChange (e) {\r\n    setNameInput(e.target.value)\r\n    setSaveIsActive(e.target.value !== '' && countInput >= 1)\r\n  }\r\n\r\n  function countOnChange (e) {\r\n    setCountInput(e.target.value)\r\n    setSaveIsActive(nameInput !== '' && e.target.value >= 1)\r\n  }\r\n\r\n  function saveThing (e) {\r\n    e.preventDefault();\r\n    if (!nameInput || !countInput) return\r\n    api.updateThing(thing.id, nameInput, countInput)\r\n      .then(()=>{\r\n        getData()\r\n        setSaveIsActive(false)\r\n      })\r\n      .catch((err)=>{\r\n        console.error(err.message)\r\n      })\r\n  }\r\n\r\n  function deleteThing () {\r\n    api.delThing(thing.id)\r\n      .then(getData)\r\n      .catch((err)=>{\r\n        console.error(err.message)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <li className={`thing`}>\r\n      {isRoom ?\r\n      <form className={`thing__form`} onSubmit={saveThing}>\r\n        <input\r\n          type={`text`}\r\n          value={nameInput}\r\n          onChange={nameOnChange}\r\n          className={`thing__name-input`}\r\n        />\r\n        <input\r\n          type={`number`}\r\n          value={countInput}\r\n          onChange={countOnChange}\r\n          className={`thing__count-input`}\r\n          min={1}\r\n        />\r\n        <button className={`thing__save ${saveIsActive && 'thing__save_active'}`}\r\n                type={`submit`}\r\n        >&#10004;</button>\r\n        <button className=\"thing__del\" onClick={deleteThing} type={`button`}>&#10008;</button>\r\n      </form> :\r\n        <div className={`thing__item`}>\r\n          <p className=\"thing__name\">{thing.data.name}</p>\r\n          <p className=\"thing__count\">{thing.data.count}</p>\r\n        </div>\r\n      }\r\n\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Thing","import Thing from \"./Thing\";\r\nimport {useContext, useState} from \"react\";\r\nimport { PlacesObjectContext } from \"../contexts/PlacesObjectContext\";\r\nimport api from \"../utils/api\";\r\nimport \"./Inventory.css\";\r\n\r\nfunction Inventory ({ inventory, activePlace, getData}) {\r\n  const placesObject = useContext(PlacesObjectContext)\r\n  const [nameInput, setNameInput] = useState('');\r\n  const [countInput, setCountInput] = useState('1');\r\n  const isRoom = placesObject[activePlace] !== undefined && placesObject[activePlace].children.length === 0\r\n  const [addIsActive, setAddIsActive] = useState(false);\r\n\r\n  function nameOnChange (e) {\r\n    setNameInput(e.target.value)\r\n    setAddIsActive(e.target.value !== '' && countInput >= 1)\r\n  }\r\n\r\n  function countOnChange (e) {\r\n    setCountInput(e.target.value)\r\n    setAddIsActive(nameInput !== '' && e.target.value >= 1)\r\n  }\r\n\r\n  function addThing (e) {\r\n    e.preventDefault()\r\n    if (!nameInput || !countInput) return\r\n    api.addThing(activePlace, nameInput, countInput)\r\n      .then(()=>{\r\n        getData();\r\n        setAddIsActive(false);\r\n        setNameInput('');\r\n        setCountInput('1');\r\n      })\r\n      .catch((err)=>{\r\n        console.error(err.message)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className={`inventory`}>\r\n      <h2 className=\"inventory__place\">\r\n        {placesObject[activePlace] !== undefined ?\r\n          placesObject[activePlace].data.name :\r\n          'Нажмите на локацию слева' }\r\n      </h2>\r\n      <ul className={`inventory__list`}>\r\n        {inventory.map(thing => thing.placeId === activePlace ||\r\n        (placesObject[activePlace] !== undefined && placesObject[activePlace].children.includes(thing.placeId))\r\n          ? <Thing thing={thing} key={thing.id} isRoom={isRoom} getData={getData}/> : '')}\r\n      </ul>\r\n      {isRoom ?\r\n        <>\r\n          <p className=\"inventory__add-title\">Добавить инвентарь:</p>\r\n          <form className={`inventory__add`} onSubmit={addThing}>\r\n            <input\r\n              type={`text`}\r\n              value={nameInput}\r\n              onChange={nameOnChange}\r\n              className={`inventory__name-input`}\r\n            />\r\n            <input\r\n              type={`number`}\r\n              value={countInput}\r\n              onChange={countOnChange}\r\n              className={`inventory__count-input`}\r\n              min={1}\r\n            />\r\n            <button\r\n              className={`inventory__add-button ${addIsActive && 'inventory__add-button_active'}`}\r\n              type={`submit`}\r\n            >&#10004;</button>\r\n          </form>\r\n        </> : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Inventory","import \"./Header.css\";\r\n\r\nfunction Header () {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className={`header__title`}>Вариант выполнения тестового задания на должность Junior Frontend-разработчик</h1>\r\n      <p className=\"header__author\">Выполнил: Владимир Сорокин, HappyMarvin@yandex.ru</p>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import api from \"../utils/api\";\nimport { useState, useEffect } from \"react\";\nimport './App.css';\nimport { PlacesObjectContext } from \"../contexts/PlacesObjectContext\";\nimport Places from \"./Places\";\nimport Inventory from \"./Inventory\";\nimport Header from \"./Header\";\n\n\nfunction App() {\n  const [places, setPlaces] = useState([]);\n  const [inventory, setInventory] = useState([]);\n  const [placesObject, setPlacesObject] = useState({});\n  const [activePlace, setActivePlace] = useState('');\n\n  function getPlacesObject () {\n    const placesObject = {};\n    places.forEach((place)=>{\n      placesObject[place.id] = Object.assign(placesObject[place.id] || {}, place);\n      placesObject[place.id].inventory = [];\n      if (place.parts !== undefined) {\n        place.parts.forEach(part => {\n          placesObject[part] = Object.assign(placesObject[part] || {}, { parent: place.id})\n        })\n      }\n    })\n\n    function setChildren (place) {\n      const children = [];\n      let isEmpty = true;\n      const addChildren = (place) => {\n        if (isEmpty && inventory.some(item => item.placeId === place.id)) {\n          isEmpty = false\n        }\n        if (place.parts !== undefined) {\n          children.push(...place.parts)\n          place.parts.forEach((item) => {\n            addChildren(placesObject[item])\n          })\n        }\n      }\n      addChildren(place)\n      placesObject[place.id].children = children;\n      placesObject[place.id].isEmpty = isEmpty;\n    }\n\n    places.forEach(setChildren);\n    inventory.forEach(item => {\n      placesObject[item.placeId].inventory.push(item)\n    })\n    return placesObject;\n  }\n  function getData () {\n    api.getPlaces().then(data => {\n      setPlaces(data);\n    }).then(() =>\n      api.getInventory().then(data => {\n        setInventory(data);\n      })\n    )\n  }\n\n  useEffect(() => {\n    getData()\n  },[])\n\n  useEffect(() => {\n    setPlacesObject(getPlacesObject);\n  }, [inventory, places])\n\n  function handlePlaceClick (placeId) {\n    setActivePlace(placeId)\n  }\n\n  return (\n    <PlacesObjectContext.Provider value={placesObject}>\n      <div className=\"app\">\n        <Header />\n        <div className=\"content\">\n          <Places\n            places={places}\n            onPlaceClick={handlePlaceClick}\n          />\n          <Inventory\n            inventory={inventory}\n            activePlace={activePlace}\n            getData={getData}\n          />\n        </div>\n      </div>\n    </PlacesObjectContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}